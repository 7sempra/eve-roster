/**
 * Dumps a map of all skills in the game. Maps skill IDs to skill data.
 * 
 * Usage:
 * $ node bin/dump-skills.js > path/to/target.json
 */

const fetchSkills = require('./fetch-skills');

fetchSkills()
.then(function([skillsMap, groupsMap]) {
  console.log('/**\n * Generated by bin/skills/dump-groups.js \n */');

  let abbreviatedMap = {};
  for (let id in groupsMap) {
    let group = groupsMap[id];
    if (group.skills.length > 0) {
      abbreviatedMap[group.id] = group.name;
    }
  }

  console.log(JSON.stringify(abbreviatedMap, null, 2));
})
.catch (function(err) {
  console.error('ERROR:', err);
});